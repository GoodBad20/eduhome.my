(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6910],{36193:function(e,s,a){Promise.resolve().then(a.bind(a,10469))},88226:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(79205).Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},10469:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return E}});var t=a(57437),r=a(2265),l=a(70414),n=a(5526),i=a(23763),c=a(21736),o=a(79820),d=a(69174),m=a(12381);class u{async getUserSettings(e){try{let{data:s,error:a}=await n.supabase.from("user_settings").select("*").eq("user_id",e).single();if(a&&"PGRST116"===a.code)return this.getDefaultSettings(e);if(a)throw a;return{...s,subjects:s.subjects||[],languages:s.languages||[],teaching_levels:s.teaching_levels||[],availability:s.availability||{}}}catch(s){return console.error("Error fetching user settings:",s),this.getDefaultSettings(e)}}async updateUserSettings(e,s){try{let a;let{data:t}=await n.supabase.from("user_settings").select("id").eq("user_id",e).single(),r={user_id:e,...s,updated_at:new Date().toISOString()};if(t){let{error:s}=await n.supabase.from("user_settings").update(r).eq("user_id",e);a=s}else{let{error:e}=await n.supabase.from("user_settings").insert(r);a=e}if(a)throw a;return!0}catch(e){return console.error("Error updating user settings:",e),!1}}async updateProfileSettings(e,s){return this.updateUserSettings(e,s)}async updateNotificationSettings(e,s){return this.updateUserSettings(e,s)}async updatePrivacySettings(e,s){return this.updateUserSettings(e,s)}async updateAppearanceSettings(e,s){return this.updateUserSettings(e,s)}async updateTutorSettings(e,s){return this.updateUserSettings(e,{subjects:s.subjects||[],languages:s.languages||[],qualifications:s.qualifications,experience:s.experience,hourly_rate:s.hourly_rate,teaching_levels:s.teaching_levels||[],availability:s.availability||{}})}async changePassword(e,s,a){try{var t;let{error:e}=await n.supabase.auth.signInWithPassword({email:(null===(t=(await n.supabase.auth.getUser()).data.user)||void 0===t?void 0:t.email)||"",password:s});if(e)return{success:!1,message:"Current password is incorrect"};let{error:r}=await n.supabase.auth.updateUser({password:a});if(r)return{success:!1,message:r.message};return{success:!0,message:"Password changed successfully"}}catch(e){return console.error("Error changing password:",e),{success:!1,message:"An error occurred while changing password"}}}async updateAvatar(e,s){try{let{error:e}=await n.supabase.auth.updateUser({data:{avatar_url:s}});if(e)throw e;return!0}catch(e){return console.error("Error updating avatar:",e),!1}}getDefaultSettings(e){return{user_id:e,full_name:"",phone:"",location:"",bio:"",timezone:"Asia/Kuala_Lumpur",language:"English",email_notifications:!0,push_notifications:!0,sms_notifications:!1,lesson_reminders:!0,payment_alerts:!0,message_notifications:!0,progress_reports:!0,marketing_emails:!1,student_requests:!0,profile_visibility:"private",show_contact_info:!1,data_sharing:!1,two_factor_auth:!1,theme:"light",compact_mode:!1,subjects:[],languages:[],qualifications:"",experience:"",hourly_rate:0,teaching_levels:[],availability:{},verification_status:"pending",average_rating:0}}async getUserAccountInfo(e){try{var s,a,t,r,l;let{data:i}=await n.supabase.auth.getUser(),c={account_status:"Active",member_since:(null===(s=i.user)||void 0===s?void 0:s.created_at)?new Date(i.user.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown",subscription_plan:"Premium",children_count:0};if((null===(t=i.user)||void 0===t?void 0:null===(a=t.user_metadata)||void 0===a?void 0:a.role)==="parent"){let{data:s}=await n.supabase.from("students").select("id").eq("parent_id",e);c.children_count=(null==s?void 0:s.length)||0}if((null===(l=i.user)||void 0===l?void 0:null===(r=l.user_metadata)||void 0===r?void 0:r.role)==="tutor"){let{data:s}=await n.supabase.from("sessions").select("student_id").eq("tutor_id",e),a=new Set(null==s?void 0:s.map(e=>e.student_id));c.children_count=a.size||0}return c}catch(e){return console.error("Error fetching account info:",e),{account_status:"Active",member_since:"Unknown",subscription_plan:"Basic",children_count:0}}}}let x=new u;var h=a(92369),g=a(94766),b=a(88906),f=a(99897),p=a(54001),j=a(88226),y=a(35685),v=a(66337),N=a(87769),w=a(42208),_=a(92735),k=a(18930),S=a(85929),C=a(97226),P=a(30401),Z=a(10407),A=a(89345);function E(){let{user:e}=(0,l.$)(),[s,a]=(0,r.useState)("profile"),[u,E]=(0,r.useState)(!1),[U,z]=(0,r.useState)(!1),[M,D]=(0,r.useState)(null),[T,O]=(0,r.useState)(!1),[L,q]=(0,r.useState)(""),[R,Y]=(0,r.useState)(""),[F,B]=(0,r.useState)(""),[I,H]=(0,r.useState)(!1),[G,V]=(0,r.useState)(!1),[K,J]=(0,r.useState)(!1),[Q,W]=(0,r.useState)({full_name:"",phone:"",location:"",bio:"",timezone:"Asia/Kuala_Lumpur",language:"English",email_notifications:!0,push_notifications:!0,sms_notifications:!1,lesson_reminders:!0,payment_alerts:!0,message_notifications:!0,progress_reports:!0,marketing_emails:!1,profile_visibility:"private",show_contact_info:!1,data_sharing:!1,two_factor_auth:!1,theme:"light",compact_mode:!1}),[$,X]=(0,r.useState)({account_status:"Active",member_since:"",subscription_plan:"Premium",children_count:0}),[ee,es]=(0,r.useState)(null),ea=[{id:"profile",name:"Profile",icon:h.Z},{id:"notifications",name:"Notifications",icon:g.Z},{id:"privacy",name:"Privacy",icon:b.Z},{id:"appearance",name:"Appearance",icon:f.Z},{id:"account",name:"Account",icon:p.Z},{id:"billing",name:"Billing",icon:j.Z},{id:"help",name:"Help",icon:y.Z}];(0,r.useEffect)(()=>{(null==e?void 0:e.id)&&et()},[e]);let et=async()=>{if(null==e?void 0:e.id)try{var s;E(!0);let[a,t]=await Promise.all([x.getUserSettings(e.id),x.getUserAccountInfo(e.id)]);W(a),es(a),X(t),(null==e?void 0:null===(s=e.user_metadata)||void 0===s?void 0:s.avatar_url)&&D(e.user_metadata.avatar_url)}catch(e){console.error("Error loading settings:",e)}finally{E(!1)}},er=async s=>{D(s);try{if(e){let{error:e}=await n.supabase.auth.updateUser({data:{avatar_url:s}});e&&console.error("Error updating avatar:",e)}}catch(e){console.error("Error updating avatar:",e)}},el=async()=>{if(null==e?void 0:e.id){z(!0);try{await x.updateUserSettings(e.id,Q)?(es({...Q}),alert("Settings saved successfully!")):alert("Failed to save settings. Please try again.")}catch(e){console.error("Error saving settings:",e),alert("An error occurred while saving settings")}finally{z(!1)}}},en=async s=>{if(s.preventDefault(),R!==F){alert("New passwords do not match");return}if(null==e?void 0:e.id){E(!0);try{let s=await x.changePassword(e.id,L,R);s.success?(O(!1),q(""),Y(""),B(""),alert("Password changed successfully")):alert(s.message)}catch(e){console.error("Error changing password:",e),alert("An error occurred while changing password")}finally{E(!1)}}},ei=(e,s)=>{W(a=>({...a,[e]:s}))},ec=()=>{var s;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"Profile Information"]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(c.Z,{currentAvatar:M||void 0,onAvatarChange:er,name:(null==e?void 0:null===(s=e.user_metadata)||void 0===s?void 0:s.full_name)||"User",userId:(null==e?void 0:e.id)||"",size:"lg"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Profile Picture"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Upload a profile picture to help tutors recognize you. Recommended size is at least 200x200px."})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:Q.full_name,onChange:e=>ei("full_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",value:Q.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change email"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:Q.phone,onChange:e=>ei("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,t.jsx)("input",{type:"text",value:Q.location,onChange:e=>ei("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,t.jsx)("textarea",{value:Q.bio,onChange:e=>ei("bio",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell tutors about yourself and your educational goals for your children..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),(0,t.jsxs)("select",{value:Q.timezone,onChange:e=>ei("timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Malaysia Time (MYT)"}),(0,t.jsx)("option",{value:"Asia/Singapore",children:"Singapore Time (SGT)"}),(0,t.jsx)("option",{value:"UTC",children:"UTC"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),(0,t.jsxs)("select",{value:Q.language,onChange:e=>ei("language",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"English",children:"English"}),(0,t.jsx)("option",{value:"Malay",children:"Bahasa Melayu"}),(0,t.jsx)("option",{value:"Chinese",children:"中文"}),(0,t.jsx)("option",{value:"Tamil",children:"தமிழ்"})]})]})]})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-5 w-5 mr-2"}),"Security"]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Password"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Last changed 3 months ago"})]}),(0,t.jsx)(m.z,{onClick:()=>O(!T),variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50",children:"Change Password"})]}),T&&(0,t.jsxs)("form",{onSubmit:en,className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:I?"text":"password",value:L,onChange:e=>q(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("button",{type:"button",onClick:()=>H(!I),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?(0,t.jsx)(N.Z,{className:"h-4 w-4"}):(0,t.jsx)(w.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:G?"text":"password",value:R,onChange:e=>Y(e.target.value),required:!0,minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("button",{type:"button",onClick:()=>V(!G),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:G?(0,t.jsx)(N.Z,{className:"h-4 w-4"}):(0,t.jsx)(w.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:K?"text":"password",value:F,onChange:e=>B(e.target.value),required:!0,minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("button",{type:"button",onClick:()=>J(!K),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:K?(0,t.jsx)(N.Z,{className:"h-4 w-4"}):(0,t.jsx)(w.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(m.z,{type:"button",onClick:()=>O(!1),variant:"outline",children:"Cancel"}),(0,t.jsx)(m.z,{type:"submit",disabled:u,className:"bg-blue-600 hover:bg-blue-700",children:u?"Changing...":"Change Password"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),(0,t.jsx)(m.z,{onClick:()=>ei("two_factor_auth",!Q.two_factor_auth),variant:Q.two_factor_auth?"default":"outline",className:Q.two_factor_auth?"bg-green-600 hover:bg-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:Q.two_factor_auth?"Enabled":"Enable"})]})]})]})]})},eo=()=>(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 mr-2"}),"Notification Preferences"]})}),(0,t.jsx)(o.aY,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Notification Channels"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),(0,t.jsx)("button",{onClick:()=>ei("email_notifications",!Q.email_notifications),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.email_notifications?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.email_notifications?"translate-x-6":"translate-x-1")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Browser and mobile app notifications"})]}),(0,t.jsx)("button",{onClick:()=>ei("push_notifications",!Q.push_notifications),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.push_notifications?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.push_notifications?"translate-x-6":"translate-x-1")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Important updates via text message"})]}),(0,t.jsx)("button",{onClick:()=>ei("sms_notifications",!Q.sms_notifications),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.sms_notifications?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.sms_notifications?"translate-x-6":"translate-x-1")})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Notification Types"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Lesson Reminders"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Upcoming lesson notifications"})]}),(0,t.jsx)("button",{onClick:()=>ei("lesson_reminders",!Q.lesson_reminders),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.lesson_reminders?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.lesson_reminders?"translate-x-6":"translate-x-1")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Payment Alerts"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Billing and payment notifications"})]}),(0,t.jsx)("button",{onClick:()=>ei("payment_alerts",!Q.payment_alerts),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.payment_alerts?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.payment_alerts?"translate-x-6":"translate-x-1")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Message Notifications"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"New messages from tutors"})]}),(0,t.jsx)("button",{onClick:()=>ei("message_notifications",!Q.message_notifications),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.message_notifications?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.message_notifications?"translate-x-6":"translate-x-1")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Progress Reports"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Weekly progress updates"})]}),(0,t.jsx)("button",{onClick:()=>ei("progress_reports",!Q.progress_reports),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.progress_reports?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.progress_reports?"translate-x-6":"translate-x-1")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Marketing Emails"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Promotional content and updates"})]}),(0,t.jsx)("button",{onClick:()=>ei("marketing_emails",!Q.marketing_emails),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.marketing_emails?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.marketing_emails?"translate-x-6":"translate-x-1")})})]})]})]})})]}),ed=()=>(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 mr-2"}),"Privacy & Security"]})}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Profile Privacy"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Profile Visibility"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Control who can see your profile"})]}),(0,t.jsxs)("select",{value:Q.profile_visibility,onChange:e=>ei("profile_visibility",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"private",children:"Private"}),(0,t.jsx)("option",{value:"public",children:"Public"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Show Contact Information"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Display phone and email to tutors"})]}),(0,t.jsx)("button",{onClick:()=>ei("show_contact_info",!Q.show_contact_info),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.show_contact_info?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.show_contact_info?"translate-x-6":"translate-x-1")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Data Sharing"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Share anonymous data for platform improvement"})]}),(0,t.jsx)("button",{onClick:()=>ei("data_sharing",!Q.data_sharing),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.data_sharing?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.data_sharing?"translate-x-6":"translate-x-1")})})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Data Management"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(m.z,{variant:"outline",className:"w-full justify-start border-blue-300 text-blue-600 hover:bg-blue-50",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),(0,t.jsxs)(m.z,{variant:"outline",className:"w-full justify-start border-red-300 text-red-600 hover:bg-red-50",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Delete My Account"]})]})]})]})]}),em=()=>(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 mr-2"}),"Appearance"]})}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Theme"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("button",{onClick:()=>ei("theme","light"),className:"p-4 rounded-lg border-2 transition-all ".concat("light"===Q.theme?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsx)(S.Z,{className:"h-6 w-6 mx-auto mb-2 text-yellow-500"}),(0,t.jsx)("p",{className:"font-medium",children:"Light"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Clean and bright"})]}),(0,t.jsxs)("button",{onClick:()=>ei("theme","dark"),className:"p-4 rounded-lg border-2 transition-all ".concat("dark"===Q.theme?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsx)(C.Z,{className:"h-6 w-6 mx-auto mb-2 text-blue-500"}),(0,t.jsx)("p",{className:"font-medium",children:"Dark"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Easy on the eyes"})]}),(0,t.jsxs)("button",{onClick:()=>ei("theme","system"),className:"p-4 rounded-lg border-2 transition-all ".concat("system"===Q.theme?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsx)(f.Z,{className:"h-6 w-6 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("p",{className:"font-medium",children:"System"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Follow your device"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Display Options"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Compact Mode"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Show more content with less spacing"})]}),(0,t.jsx)("button",{onClick:()=>ei("compact_mode",!Q.compact_mode),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(Q.compact_mode?"bg-blue-600":"bg-gray-200"),children:(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(Q.compact_mode?"translate-x-6":"translate-x-1")})})]})]})]})]}),eu=()=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5 mr-2"}),"Account Information"]})}),(0,t.jsx)(o.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Account Status"}),(0,t.jsxs)("p",{className:"font-semibold text-green-600 flex items-center mt-1",children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-1"}),$.account_status]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Member Since"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900 mt-1",children:$.member_since})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Subscription Plan"}),(0,t.jsx)("p",{className:"font-semibold text-blue-600 mt-1",children:$.subscription_plan})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Children"}),(0,t.jsxs)("p",{className:"font-semibold text-gray-900 mt-1",children:[$.children_count," registered"]})]})]})})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsx)(o.ll,{children:"Danger Zone"})}),(0,t.jsx)(o.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-red-900 mb-2",children:"Delete Account"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,t.jsxs)(m.z,{variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Delete Account"]})]})})})]})]}),ex=()=>(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 mr-2"}),"Billing & Subscription"]})}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-blue-900",children:[$.subscription_plan," Plan"]}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"RM99/month • Renews monthly"})]}),(0,t.jsx)(d.C,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-300",children:"Active"})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Payment Methods"}),(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-blue-400 rounded flex items-center justify-center",children:(0,t.jsx)(j.Z,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"•••• 4242"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Expires 12/25"})]})]}),(0,t.jsx)(m.z,{variant:"outline",size:"sm",children:"Edit"})]})}),(0,t.jsx)(m.z,{variant:"outline",className:"w-full border-dashed border-gray-300 text-gray-600 hover:border-gray-400 hover:text-gray-700",children:"+ Add Payment Method"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Billing History"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Premium Plan - Jan 2024"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Jan 15, 2024"})]}),(0,t.jsx)("p",{className:"font-semibold",children:"RM99.00"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Premium Plan - Dec 2023"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Dec 15, 2023"})]}),(0,t.jsx)("p",{className:"font-semibold",children:"RM99.00"})]})]}),(0,t.jsx)(m.z,{variant:"outline",className:"w-full",children:"View Full History"})]})]})]}),eh=()=>(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 mr-2"}),"Help & Support"]})}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{className:"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Help Center"}),(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-gray-400"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Browse FAQs and guides"})]}),(0,t.jsxs)("button",{className:"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Contact Support"}),(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-gray-400"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Get help from our team"})]}),(0,t.jsxs)("button",{className:"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Video Tutorials"}),(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-gray-400"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Learn how to use the platform"})]}),(0,t.jsxs)("button",{className:"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Community Forum"}),(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-gray-400"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Connect with other parents"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Quick Links"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("a",{href:"/terms",className:"block text-sm text-blue-600 hover:text-blue-800",children:"Terms of Service"}),(0,t.jsx)("a",{href:"/privacy",className:"block text-sm text-blue-600 hover:text-blue-800",children:"Privacy Policy"}),(0,t.jsx)("a",{href:"/cookie-policy",className:"block text-sm text-blue-600 hover:text-blue-800",children:"Cookie Policy"}),(0,t.jsx)("a",{href:"/cookie-policy",className:"block text-sm text-blue-600 hover:text-blue-800",children:"GDPR Compliance"})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Need Help?"}),(0,t.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Our support team is available Monday-Friday, 9 AM - 6 PM MYT"}),(0,t.jsxs)(m.z,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(A.Z,{className:"h-4 w-4 mr-2"}),"Contact Support"]})]})]})]});return(0,t.jsx)(i.Z,{userRole:"parent",children:(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 min-h-screen",children:(0,t.jsxs)("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 md:p-6 rounded-xl mb-6 shadow-lg",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:(0,t.jsx)("span",{className:"text-2xl",children:"⚙️"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl md:text-3xl font-bold",children:"Settings"}),(0,t.jsx)("p",{className:"text-xs md:text-sm text-white opacity-90 hidden md:block",children:"Manage your account preferences and privacy settings"})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("nav",{className:"bg-white rounded-xl shadow-lg p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Settings"}),(0,t.jsx)("div",{className:"space-y-1",children:ea.map(e=>{let r=e.icon;return(0,t.jsxs)("button",{onClick:()=>a(e.id),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(s===e.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-700":"text-gray-700 hover:bg-gray-50"),children:[(0,t.jsx)(r,{className:"h-4 w-4 mr-3"}),e.name]},e.id)})})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg",children:[(()=>{switch(s){case"profile":default:return ec();case"notifications":return eo();case"privacy":return ed();case"appearance":return em();case"account":return eu();case"billing":return ex();case"help":return eh()}})(),(0,t.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(m.z,{onClick:el,disabled:U,className:"bg-blue-600 hover:bg-blue-700 px-8",children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})})})]})})]})]})})})}},69174:function(e,s,a){"use strict";a.d(s,{C:function(){return i}});var t=a(57437);a(2265);var r=a(90535),l=a(93448);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...r})}}},function(e){e.O(0,[2972,1545,2380,9146,3045,4598,3763,998,2971,2117,1744],function(){return e(e.s=36193)}),_N_E=e.O()}]);