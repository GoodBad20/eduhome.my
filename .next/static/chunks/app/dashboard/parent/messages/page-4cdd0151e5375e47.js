(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1541],{67519:function(e,t,s){Promise.resolve().then(s.bind(s,32868))},71769:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},31047:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},96215:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},40875:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},10407:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},48736:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},29202:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},55900:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},14938:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},53417:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},73247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},98728:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},70525:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},92369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},32868:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(57437),n=s(2265),a=s(70414),l=s(23763),i=s(92308);function o(){let{user:e}=(0,a.$)(),[t,s]=(0,n.useState)(!0),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[h,m]=(0,n.useState)(null),[x,p]=(0,n.useState)("all");(0,n.useEffect)(()=>{e&&(y(),g())},[e]);let y=async()=>{if(null==e?void 0:e.id)try{let t=await i.U.getChildren(e.id);c(t)}catch(e){console.error("Error loading children:",e)}},g=async()=>{try{u([{id:"1",sender_name:"Ms. Chen",subject:"Sarah's Math Progress Update",content:"Hi! I wanted to update you on Sarah's progress in mathematics. She has shown significant improvement in algebra and is now confidently solving complex equations. Her homework completion rate has increased to 95% this month.",timestamp:"2024-11-12T10:30:00Z",read:!1,type:"tutor"},{id:"2",sender_name:"Dr. Smith",subject:"Science Lesson Cancellation",content:"Due to unforeseen circumstances, I need to cancel tomorrow's science lesson for Tom. I apologize for the inconvenience and will reschedule as soon as possible. Please let me know your availability for next week.",timestamp:"2024-11-11T15:45:00Z",read:!0,type:"tutor"},{id:"3",sender_name:"EduHome System",subject:"Payment Reminder",content:"This is a friendly reminder that your payment for Sarah's math lessons is due on November 15th. The total amount is RM240 for 4 sessions. Please ensure payment is made on time to avoid any interruption in lessons.",timestamp:"2024-11-10T09:00:00Z",read:!0,type:"system"},{id:"4",sender_name:"Ms. Johnson",subject:"English Assignment Feedback",content:"Tom has completed his English assignment with excellent results! His reading comprehension has improved remarkably, and he's now able to analyze complex texts independently. Keep up the great work!",timestamp:"2024-11-09T14:20:00Z",read:!1,type:"tutor"}])}catch(e){console.error("Error loading messages:",e)}finally{s(!1)}},f=d.filter(e=>"all"===x||("unread"===x?!e.read:"tutor"!==x||"tutor"===e.type)),b=e=>{m(e),u(t=>t.map(t=>t.id===e.id?{...t,read:!0}:t))},j=e=>{switch(e){case"tutor":return"\uD83D\uDC69‍\uD83C\uDFEB";case"system":return"\uD83D\uDD14";case"parent":return"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66";default:return"\uD83D\uDCAC"}},v=e=>{let t=new Date(e),s=Math.abs(new Date().getTime()-t.getTime())/36e5;return s<24?t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):s<168?t.toLocaleDateString("en-US",{weekday:"short"}):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return t?(0,r.jsx)(l.Z,{userRole:"parent",children:(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):(0,r.jsx)(l.Z,{userRole:"parent",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Messages"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Communicate with tutors and stay updated on your children's progress"})]}),0===o.length?(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCAC"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Messages Yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Add children and connect with tutors to start receiving messages"}),(0,r.jsx)("button",{onClick:()=>window.location.href="/dashboard/parent/children",className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-xl font-medium hover:from-blue-600 hover:to-purple-600 transition-colors",children:"Add Children"})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-2xl mr-2",children:"\uD83D\uDCE8"}),"Inbox"]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 mb-4",children:[(0,r.jsxs)("button",{onClick:()=>p("all"),className:"px-4 py-2 rounded-lg font-medium transition-all text-left ".concat("all"===x?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"),children:["All Messages (",d.length,")"]}),(0,r.jsxs)("button",{onClick:()=>p("unread"),className:"px-4 py-2 rounded-lg font-medium transition-all text-left ".concat("unread"===x?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"),children:["Unread (",d.filter(e=>!e.read).length,")"]}),(0,r.jsxs)("button",{onClick:()=>p("tutor"),className:"px-4 py-2 rounded-lg font-medium transition-all text-left ".concat("tutor"===x?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"),children:["From Tutors (",d.filter(e=>"tutor"===e.type).length,")"]})]}),(0,r.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.map(e=>(0,r.jsx)("button",{onClick:()=>b(e),className:"w-full text-left p-3 rounded-xl transition-all ".concat((null==h?void 0:h.id)===e.id?"bg-blue-100 border-blue-300":"hover:bg-gray-50 border-transparent"," border ").concat(e.read?"":"font-semibold"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"text-2xl",children:j(e.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:e.sender_name}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:v(e.timestamp)})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.subject}),!e.read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1"})]})]})},e.id))})]})}),(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"text-3xl",children:j(h.type)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:h.subject}),(0,r.jsxs)("p",{className:"text-gray-600",children:["From: ",h.sender_name," • ",new Date(h.timestamp).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"⭐"})}),(0,r.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDDD1️"})})]})]})}),(0,r.jsx)("div",{className:"prose max-w-none",children:(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:h.content})}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-600 transition-colors",children:"Reply"}),(0,r.jsx)("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Forward"})]})})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCE9"}),(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Select a Message"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Choose a message from the inbox to view its content"})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"text-xl mr-2",children:"✉️"}),"Quick Message"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Select Tutor"}),(0,r.jsx)("option",{value:"ms-chen",children:"Ms. Chen (Mathematics)"}),(0,r.jsx)("option",{value:"dr-smith",children:"Dr. Smith (Science)"}),(0,r.jsx)("option",{value:"ms-johnson",children:"Ms. Johnson (English)"})]}),(0,r.jsx)("input",{type:"text",placeholder:"Subject",className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("textarea",{placeholder:"Type your message...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("button",{className:"w-full px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-600 transition-colors",children:"Send Message"})]})]})]})]})]})})}}},function(e){e.O(0,[2972,1545,2380,9146,4598,3763,2308,2971,2117,1744],function(){return e(e.s=67519)}),_N_E=e.O()}]);