"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3763],{23763:function(e,a,t){t.d(a,{Z:function(){return Z}});var s=t(57437),n=t(2265),r=t(70414),i=t(99376),l=t(27648),d=t(94152),o=t(96246),u=t(14938),c=t(96215),m=t(92369),h=t(95805),b=t(70525),x=t(31047),D=t(71769),f=t(48736),p=t(73247),v=t(95252),g=t(53417),C=t(98728),w=t(55900),j=t(40875),N=t(10407);let y={"\uD83C\uDFE0":u.Z,"\uD83D\uDCCA":c.Z,"\uD83D\uDC64":m.Z,"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66":h.Z,"\uD83D\uDCC8":b.Z,"\uD83D\uDCC5":x.Z,"\uD83D\uDCDA":D.Z,"\uD83D\uDCDD":f.Z,"\uD83D\uDD0D":p.Z,"\uD83D\uDCB3":v.Z,"\uD83D\uDCB0":v.Z,"\uD83D\uDCAC":g.Z,"⚙️":C.Z,"\uD83D\uDC65":h.Z,"\uD83C\uDF93":w.Z};function k(e){var a,r,u,c,m,h;let{userRole:b,user:x,sidebarOpen:D,onClose:f,isMobile:p=!1}=e,v=(0,i.useRouter)(),{t:g}=(0,d.Z)(),[C,w]=(0,n.useState)(p?[]:["Main","Overview"]),k=e=>{w(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},E=(()=>{switch(b){case"parent":return[{title:g("dashboard.menu.main"),items:[{name:g("nav.home"),href:"/dashboard/parent",icon:"\uD83C\uDFE0",badge:null},{name:g("nav.dashboard"),href:"/dashboard/parent",icon:"\uD83D\uDCCA",badge:null}]},{title:g("dashboard.menu.family"),items:[{name:g("parent.myKids"),href:"/dashboard/parent/children",icon:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66",badge:null},{name:g("parent.progress"),href:"/dashboard/parent/progress",icon:"\uD83D\uDCC8",badge:null},{name:g("parent.schedule"),href:"/dashboard/parent/schedule",icon:"\uD83D\uDCC5",badge:null}]},{title:g("dashboard.menu.learning"),items:[{name:g("parent.lessons"),href:"/dashboard/parent/lessons",icon:"\uD83D\uDCDA",badge:null},{name:g("parent.assignments"),href:"/dashboard/parent/assignments",icon:"\uD83D\uDCDD",badge:null},{name:g("parent.findTutors"),href:"/dashboard/parent/find-tutors",icon:"\uD83D\uDD0D",badge:"New"}]},{title:g("dashboard.menu.account"),items:[{name:g("parent.payments"),href:"/dashboard/parent/payments",icon:"\uD83D\uDCB3",badge:null},{name:g("nav.messages"),href:"/dashboard/parent/messages",icon:"\uD83D\uDCAC",badge:"3"},{name:g("nav.settings"),href:"/dashboard/parent/settings",icon:"⚙️",badge:null}]}];case"tutor":return[{title:g("dashboard.menu.overview"),items:[{name:g("nav.dashboard"),href:"/dashboard/tutor",icon:"\uD83D\uDCCA",badge:null},{name:g("nav.profile"),href:"/dashboard/tutor/profile",icon:"\uD83D\uDC64",badge:null}]},{title:g("dashboard.menu.teaching"),items:[{name:g("tutor.students"),href:"/dashboard/tutor/students",icon:"\uD83D\uDC65",badge:"12"},{name:g("tutor.schedule"),href:"/dashboard/tutor/schedule",icon:"\uD83D\uDCC5",badge:null},{name:g("tutor.lessons"),href:"/dashboard/tutor/lessons",icon:"\uD83D\uDCDA",badge:"5"},{name:g("tutor.assignments"),href:"/dashboard/tutor/assignments",icon:"\uD83D\uDCDD",badge:"2"}]},{title:g("dashboard.menu.business"),items:[{name:g("tutor.earnings"),href:"/dashboard/tutor/earnings",icon:"\uD83D\uDCB0",badge:null},{name:g("tutor.analytics"),href:"/dashboard/tutor/analytics",icon:"\uD83D\uDCC8",badge:null},{name:g("nav.messages"),href:"/dashboard/tutor/messages",icon:"\uD83D\uDCAC",badge:"8"}]}];case"admin":return[{title:g("dashboard.menu.overview"),items:[{name:g("admin.dashboard"),href:"/dashboard/admin",icon:"\uD83D\uDCCA",badge:null},{name:g("admin.analytics"),href:"/dashboard/admin/analytics",icon:"\uD83D\uDCC8",badge:null}]},{title:"Management",items:[{name:g("admin.users"),href:"/dashboard/admin/users",icon:"\uD83D\uDC65",badge:"47"},{name:g("admin.totalTutors"),href:"/dashboard/admin/tutors",icon:"\uD83D\uDC68‍\uD83C\uDFEB",badge:"12"},{name:g("admin.totalBookings"),href:"/dashboard/admin/bookings",icon:"\uD83D\uDCC5",badge:"5"},{name:g("admin.payments"),href:"/dashboard/admin/payments",icon:"\uD83D\uDCB3",badge:null}]},{title:"Content",items:[{name:"Subjects",href:"/dashboard/admin/subjects",icon:"\uD83D\uDCDA",badge:null},{name:"Categories",href:"/dashboard/admin/categories",icon:"\uD83C\uDFF7️",badge:null},{name:"Reviews",href:"/dashboard/admin/reviews",icon:"⭐",badge:"8"}]},{title:"System",items:[{name:g("admin.settings"),href:"/dashboard/admin/settings",icon:"⚙️",badge:null},{name:"Logs",href:"/dashboard/admin/logs",icon:"\uD83D\uDCCB",badge:null},{name:"Reports",href:"/dashboard/admin/reports",icon:"\uD83D\uDCC4",badge:"3"}]}];default:return[]}})(),Z=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v.pathname===e.href,r=y[e.icon];return(0,s.jsxs)(l.default,{href:e.href,onClick:p?f:void 0,className:"\n          group relative flex items-center justify-between\n          px-".concat(t?"4":"3"," py-3 rounded-xl\n          text-sm font-medium transition-all duration-200\n          ").concat(t?"ml-6":"","\n          ").concat(n?"bg-white/20 text-white shadow-lg":"text-white/80 hover:bg-white/10 hover:text-white","\n          ").concat(p?"touch-manipulation min-h-[44px]":"","\n        "),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"\n            ".concat(n?"text-white":"text-blue-200","\n            group-hover:text-white transition-colors flex-shrink-0\n          "),children:[r&&(0,s.jsx)(r,{className:"h-5 w-5"}),!r&&(0,s.jsx)("span",{className:"text-lg",children:e.icon})]}),(0,s.jsx)("span",{className:"font-medium truncate",children:e.name})]}),e.badge&&(0,s.jsx)("span",{className:"\n            px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0\n            ".concat(n?"bg-white/20 text-white":"bg-red-500 text-white","\n          "),children:e.badge})]},"".concat(e.name,"-").concat(a))};return(0,s.jsxs)("div",{className:"h-full",children:[!p&&(0,s.jsx)("div",{className:"flex items-center flex-shrink-0 px-6 mb-8 pt-6",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20 w-full",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-white text-center",children:"EduHome.my"}),(0,s.jsxs)("p",{className:"text-xs text-blue-100 text-center mt-1 capitalize",children:[b," Dashboard"]})]})}),(0,s.jsx)("div",{className:"px-".concat(p?4:6," mb-8"),children:(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(o.qE,{className:"w-12 h-12 border-2 border-white/30",children:[(0,s.jsx)(o.F$,{src:(null==x?void 0:null===(a=x.user_metadata)||void 0===a?void 0:a.avatar_url)||void 0,alt:(null==x?void 0:null===(r=x.user_metadata)||void 0===r?void 0:r.full_name)||"User"}),(0,s.jsx)(o.Q5,{className:"text-white font-bold text-lg",style:{backgroundColor:(()=>{var e;let a=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],t=((null==x?void 0:null===(e=x.user_metadata)||void 0===e?void 0:e.full_name)||(null==x?void 0:x.email)||"User").split("").reduce((e,a)=>e+a.charCodeAt(0),0)%a.length;return a[t]})()},children:(m=null==x?void 0:null===(u=x.user_metadata)||void 0===u?void 0:u.full_name,h=null==x?void 0:x.email,m?m.split(" ").map(e=>e.charAt(0).toUpperCase()).join("").slice(0,2):(null==h?void 0:h.charAt(0).toUpperCase())||"U")})]}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:(null==x?void 0:null===(c=x.user_metadata)||void 0===c?void 0:c.full_name)||"User"}),(0,s.jsx)("p",{className:"text-xs text-blue-100 truncate",children:null==x?void 0:x.email}),(0,s.jsx)("div",{className:"flex items-center mt-1",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-500/20 text-blue-100 border border-blue-300/30",children:b})})]})]})})}),(0,s.jsx)("nav",{className:"flex-1 px-3 space-y-2 pb-6 overflow-y-auto",children:E.map(e=>{let a=C.includes(e.title);return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("button",{onClick:()=>k(e.title),className:"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-blue-200 uppercase tracking-wider hover:text-white transition-colors",children:[(0,s.jsx)("span",{children:e.title}),(0,s.jsx)("div",{className:"transform transition-transform duration-200",children:a?(0,s.jsx)(j.Z,{className:"h-4 w-4"}):(0,s.jsx)(N.Z,{className:"h-4 w-4"})})]}),a&&(0,s.jsx)("div",{className:"space-y-1",children:e.items.map((e,a)=>Z(e,a,!1))})]},e.title)})}),(0,s.jsx)("div",{className:"px-".concat(3," mb-6"),children:(0,s.jsxs)("button",{onClick:async()=>{let{supabase:e}=await Promise.resolve().then(t.bind(t,5526));await e.auth.signOut(),v.push("/")},className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium rounded-xl bg-white/10 hover:bg-white/20 text-white/80 hover:text-white border border-white/20 transition-all backdrop-blur-sm",children:[(0,s.jsx)("span",{className:"mr-2",children:"\uD83D\uDEAA"}),g("nav.logout")]})})]})}var E=t(70666);function Z(e){var a;let{children:t,userRole:l}=e,[d,o]=(0,n.useState)(!1),{user:u,signOut:c}=(0,r.$)();(0,i.useRouter)();let m=(null==u?void 0:u.email)==="badrul.ameen20@gmail.com"?"admin":l;return(0,s.jsxs)("div",{className:"min-h-screen clean-bg",children:[d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40 md:hidden",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>o(!1)})}),(0,s.jsxs)("div",{className:"fixed left-0 top-0 z-50 w-64 h-full flex flex-col dashboard-sidebar transform translate-x-0 shadow-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:(0,s.jsx)("h1",{className:"text-base sm:text-lg font-bold text-white",children:"EduHome.my"})}),(0,s.jsx)("button",{type:"button",onClick:()=>o(!1),className:"text-white/80 hover:text-white p-3 rounded-lg hover:bg-white/10 transition-all active:scale-95 z-50","aria-label":"Close sidebar",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)(k,{userRole:m,user:u,sidebarOpen:d,onClose:()=>o(!1),isMobile:!0})]})]}),(0,s.jsx)("div",{className:"hidden md:fixed md:inset-y-0 md:flex md:w-72 md:flex-col",children:(0,s.jsx)("div",{className:"flex flex-col flex-grow dashboard-sidebar pt-5 pb-4 overflow-y-auto shadow-2xl",children:(0,s.jsx)(k,{userRole:m,user:u,sidebarOpen:!0,onClose:()=>{},isMobile:!1})})}),(0,s.jsxs)("div",{className:"md:pl-72 min-h-screen overflow-x-hidden",children:[(0,s.jsx)("div",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur-sm shadow-sm border-b border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between px-3 sm:px-4 py-3 sm:py-4",children:[(0,s.jsx)("button",{type:"button",className:"md:hidden text-gray-600 hover:text-gray-900 p-4 rounded-xl hover:bg-gray-100 transition-all active:scale-95 touch-manipulation",onClick:()=>o(!0),"aria-label":"Open sidebar menu",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,s.jsx)("div",{className:"flex-1 md:hidden",children:(0,s.jsx)("div",{className:"text-center px-4",children:(0,s.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 truncate",children:"Dashboard"})})}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,s.jsx)(E.Z,{}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 hidden lg:block",children:["Good to see you, ",(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:(null==u?void 0:null===(a=u.user_metadata)||void 0===a?void 0:a.full_name)||"there"}),"! \uD83D\uDC4B"]})]})]})}),(0,s.jsx)("main",{className:"flex-1",children:t})]})]})}},70414:function(e,a,t){t.d(a,{$:function(){return d},SupabaseProvider:function(){return l}});var s=t(57437),n=t(2265),r=t(5526);let i=(0,n.createContext)(void 0);function l(e){let{children:a}=e,[t,l]=(0,n.useState)(null),[d,o]=(0,n.useState)(null),[u,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=!0,a=setTimeout(()=>{e&&u&&(console.warn("Auth initialization timeout - proceeding without session"),c(!1))},3e3);(async()=>{try{let{data:{session:s},error:n}=await r.supabase.auth.getSession();if(e){var t;n&&console.error("Error getting session:",n),o(s),l(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),c(!1),clearTimeout(a)}}catch(t){console.error("Auth initialization error:",t),e&&(c(!1),clearTimeout(a))}})();let{data:{subscription:t}}=r.supabase.auth.onAuthStateChange((t,s)=>{if(e){var n,r;console.log("Auth state changed:",t,null==s?void 0:null===(n=s.user)||void 0===n?void 0:n.email),o(s),l(null!==(r=null==s?void 0:s.user)&&void 0!==r?r:null),c(!1),clearTimeout(a)}});return()=>{e=!1,t.unsubscribe(),clearTimeout(a)}},[]);let m=async()=>{await r.supabase.auth.signOut()};return(0,s.jsx)(i.Provider,{value:{user:t,session:d,loading:u,signOut:m},children:a})}function d(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useSupabase must be used within a SupabaseProvider");return e}},70666:function(e,a,t){t.d(a,{Z:function(){return l}});var s=t(57437),n=t(94152),r=t(29202),i=t(686);function l(){let{language:e,setLanguage:a,t}=(0,n.Z)(),{trackLanguageToggle:l}=(0,i.z)();return(0,s.jsxs)("button",{onClick:()=>{let t="en"===e?"ms":"en";a(t),l(t)},className:"group relative flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg hover:bg-gray-100 transition-all duration-200 border border-gray-200 bg-white shadow-sm",title:t("language.toggle"),children:[(0,s.jsx)(r.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-600 group-hover:text-blue-600 transition-colors"}),(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-700 group-hover:text-blue-600 transition-colors",children:"en"===e?"EN":"MS"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 group-hover:text-blue-600 transition-colors hidden xs:block sm:block",children:"en"===e?"\uD83C\uDDF2\uD83C\uDDFE":"\uD83C\uDDEC\uD83C\uDDE7"})]})}},96246:function(e,a,t){t.d(a,{F$:function(){return d},Q5:function(){return o},qE:function(){return l}});var s=t(57437),n=t(2265),r=t(5523),i=t(93448);let l=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.fC,{ref:a,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n})});l.displayName=r.fC.displayName;let d=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.Ee,{ref:a,className:(0,i.cn)("aspect-square h-full w-full",t),...n})});d.displayName=r.Ee.displayName;let o=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.NY,{ref:a,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n})});o.displayName=r.NY.displayName},5526:function(e,a,t){t.d(a,{supabase:function(){return l}});var s=t(71545),n=t(40257);let r="https://upaocsnwqbncntpvlqdy.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwYW9jc253cWJuY250cHZscWR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5MzE1MzAsImV4cCI6MjA3ODUwNzUzMH0.5cKkhTWrSqmWkW2PAazyDH9TFKtjRztjmzvrlY6azuw";if(!r||!i)throw Error("Missing Supabase environment variables");let l=(0,s.eI)(r,i);(0,s.eI)(r,n.env.SUPABASE_SERVICE_ROLE_KEY||i,{auth:{autoRefreshToken:!1,persistSession:!1}})},93448:function(e,a,t){t.d(a,{cn:function(){return r}});var s=t(61994),n=t(53335);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,n.m6)((0,s.W)(a))}}}]);