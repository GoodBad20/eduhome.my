(()=>{var e={};e.id=1849,e.ids=[1849],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15367:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>d}),a(36498),a(64686),a(35866);var r=a(23191),t=a(88716),l=a(37922),n=a.n(l),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let d=["",{children:["dashboard",{children:["tutor",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,36498)),"/Users/goodbadgcg/eduhome.my/src/app/dashboard/tutor/profile/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,64686)),"/Users/goodbadgcg/eduhome.my/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/goodbadgcg/eduhome.my/src/app/dashboard/tutor/profile/page.tsx"],u="/dashboard/tutor/profile/page",m={require:a,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/tutor/profile/page",pathname:"/dashboard/tutor/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},47061:(e,s,a)=>{Promise.resolve().then(a.bind(a,92653))},997:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},77636:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},42887:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},92653:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var r=a(10326),t=a(17577),l=a(18799),n=a(3274),i=a(47208),o=a(29752),d=a(91664),c=a(79635),u=a(94019),m=a(997),g=a(5932),x=a(42887),h=a(77636),b=a(6343),p=a(9015),f=a(91216),y=a(12714),j=a(76828),v=a(32933);function N(){let{user:e}=(0,l.$)(),[s,a]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[_,k]=(0,t.useState)(null),[C,Z]=(0,t.useState)(!1),[P,S]=(0,t.useState)(""),[z,A]=(0,t.useState)(""),[M,$]=(0,t.useState)(""),[E,R]=(0,t.useState)(!1),[U,L]=(0,t.useState)(!1),[q,F]=(0,t.useState)(!1),T={full_name:e?.user_metadata?.full_name||"John Doe",email:e?.email||"john@example.com",phone:"+60 12-345 6789",location:"Kuala Lumpur, Malaysia",bio:"Passionate educator dedicated to helping students achieve their academic goals through personalized learning approaches.",timezone:"Asia/Kuala_Lumpur",subjects:["Mathematics","Physics","Chemistry"],languages:["English","Mandarin","Malay"],qualifications:"B.Sc. in Mathematics, University of Malaya",experience:"5 years of tutoring experience",hourly_rate:"80",teaching_levels:["SPM","IGCSE","A-Levels"],teaching_modes:["online","in_person"],online_meeting_link:"https://meet.google.com/xyz-abc-123",physical_address:"123 Education Street, Kuala Lumpur, 50200",google_maps_link:"https://maps.google.com/?q=123+Education+Street+Kuala+Lumpur",waze_link:"https://waze.com/ul?ll=3.1390,101.6869&navigate=yes",additional_notes:"Free parking available. Please arrive 10 minutes early.",availability:{monday:{morning:!0,afternoon:!0,evening:!1},tuesday:{morning:!1,afternoon:!0,evening:!0},wednesday:{morning:!0,afternoon:!0,evening:!1},thursday:{morning:!1,afternoon:!0,evening:!0},friday:{morning:!0,afternoon:!1,evening:!1},saturday:{morning:!0,afternoon:!0,evening:!0},sunday:{morning:!1,afternoon:!0,evening:!1}},email_notifications:!0,push_notifications:!0,sms_notifications:!1,lesson_reminders:!0,payment_alerts:!0,message_notifications:!0,student_requests:!0,marketing_emails:!1,profile_visibility:"public",show_contact_info:!0,data_sharing:!1,two_factor_auth:!1,account_status:"Active",member_since:"January 2024",verification_status:"Verified",average_rating:4.8,total_students:45,total_earnings:12800},[O,I]=(0,t.useState)(T),Y=async s=>{k(s);try{if(e){let{error:a}=await e.update({data:{avatar_url:s}});a&&console.error("Error updating avatar:",a)}}catch(e){console.error("Error updating avatar:",e)}},G=async e=>{e.preventDefault(),w(!0);try{await new Promise(e=>setTimeout(e,1e3)),a(!1)}catch(e){console.error("Error updating profile:",e)}finally{w(!1)}},D=e=>{I({...O,[e.target.name]:e.target.value})},K=async e=>{if(e.preventDefault(),z!==M){alert("New passwords do not match");return}w(!0);try{await new Promise(e=>setTimeout(e,1e3)),Z(!1),S(""),A(""),$(""),alert("Password changed successfully")}catch(e){console.error("Error changing password:",e),alert("Error changing password")}finally{w(!1)}},B=(e,s)=>{I(a=>({...a,[e]:s}))};return r.jsx(n.Z,{userRole:"tutor",children:r.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 min-h-screen",children:(0,r.jsxs)("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 md:p-6 rounded-xl mb-6 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:r.jsx(c.Z,{className:"h-6 w-6 md:h-8 md:w-8"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-xl md:text-3xl font-bold",children:"Tutor Profile"}),r.jsx("p",{className:"text-xs md:text-sm text-white opacity-90 hidden md:block",children:"Manage your professional profile and account settings"})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-lg md:text-2xl font-bold",children:["RM",O.hourly_rate]}),r.jsx("div",{className:"text-xs md:text-sm text-white opacity-90",children:"per hour"})]})]})}),(0,r.jsxs)("form",{onSubmit:G,className:"space-y-6",children:[(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(c.Z,{className:"h-5 w-5 mr-2"}),"Profile Information"]}),r.jsx(d.z,{type:"button",onClick:()=>a(!s),variant:s?"outline":"default",className:s?"border-gray-300":"bg-blue-600 hover:bg-blue-700",children:s?(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]})}),r.jsx(o.aY,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(i.Z,{currentAvatarUrl:_,onAvatarChange:Y,userType:"tutor",userId:e?.id||"",size:"large"})}),(0,r.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:O.full_name}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 text-sm text-gray-600",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(g.Z,{className:"h-4 w-4 mr-1"}),O.email]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-1"}),O.phone]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(h.Z,{className:"h-4 w-4 mr-1"}),O.location]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-start gap-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 px-3 py-2 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:["RM",O.hourly_rate]}),r.jsx("div",{className:"text-xs text-gray-600",children:"per hour"})]}),(0,r.jsxs)("div",{className:"bg-green-50 px-3 py-2 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:Array.isArray(O.subjects)?O.subjects.length:O.subjects.split(",").length}),r.jsx("div",{className:"text-xs text-gray-600",children:"subjects"})]}),(0,r.jsxs)("div",{className:"bg-purple-50 px-3 py-2 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:"4.8â˜…"}),r.jsx("div",{className:"text-xs text-gray-600",children:"rating"})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 px-3 py-2 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-yellow-600",children:O.total_students}),r.jsx("div",{className:"text-xs text-gray-600",children:"students"})]})]})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center",children:[r.jsx(c.Z,{className:"h-5 w-5 mr-2"}),"Personal Information"]})}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",name:"full_name",value:O.full_name,onChange:D,disabled:!s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:O.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change email"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",value:O.phone,onChange:D,disabled:!s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),r.jsx("input",{type:"text",name:"location",value:O.location,onChange:D,disabled:!s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]})]})]}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center",children:[r.jsx(b.Z,{className:"h-5 w-5 mr-2"}),"Teaching Information"]})}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects"}),r.jsx("input",{type:"text",name:"subjects",value:Array.isArray(O.subjects)?O.subjects.join(", "):O.subjects,onChange:e=>B("subjects",e.target.value.split(",").map(e=>e.trim())),disabled:!s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages Spoken"}),r.jsx("input",{type:"text",name:"languages",value:Array.isArray(O.languages)?O.languages.join(", "):O.languages,onChange:e=>B("languages",e.target.value.split(",").map(e=>e.trim())),disabled:!s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate (RM)"}),r.jsx("input",{type:"number",name:"hourly_rate",value:O.hourly_rate,onChange:D,disabled:!s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualifications"}),r.jsx("textarea",{name:"qualifications",value:O.qualifications,onChange:D,disabled:!s,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]})]})]})]}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center",children:[r.jsx(h.Z,{className:"h-5 w-5 mr-2"}),"Teaching Modes & Location"]})}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teaching Modes"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:O.teaching_modes?.includes("online")||!1,onChange:e=>{let s=O.teaching_modes||[];e.target.checked?B("teaching_modes",[...s,"online"]):B("teaching_modes",s.filter(e=>"online"!==e))},disabled:!s,className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Online Classes"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:O.teaching_modes?.includes("in_person")||!1,onChange:e=>{let s=O.teaching_modes||[];e.target.checked?B("teaching_modes",[...s,"in_person"]):B("teaching_modes",s.filter(e=>"in_person"!==e))},disabled:!s,className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),r.jsx("span",{className:"text-sm text-gray-700",children:"In-Person Classes"})]})]})]}),O.teaching_modes?.includes("online")&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Meet Link"}),r.jsx("input",{type:"url",name:"online_meeting_link",value:O.online_meeting_link||"",onChange:D,disabled:!s,placeholder:"https://meet.google.com/xyz-abc-123",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This link will be used for all online classes. You can generate a permanent meeting link in Google Meet."})]}),O.teaching_modes?.includes("in_person")&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Physical Address"}),r.jsx("textarea",{name:"physical_address",value:O.physical_address||"",onChange:D,disabled:!s,rows:2,placeholder:"123 Education Street, Kuala Lumpur 50200",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps Link"}),r.jsx("input",{type:"url",name:"google_maps_link",value:O.google_maps_link||"",onChange:D,disabled:!s,placeholder:"https://maps.google.com/?q=your+address",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waze Link"}),r.jsx("input",{type:"url",name:"waze_link",value:O.waze_link||"",onChange:D,disabled:!s,placeholder:"https://waze.com/ul?navigate=yes",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Class Information"}),r.jsx("textarea",{name:"additional_notes",value:O.additional_notes||"",onChange:D,disabled:!s,rows:3,placeholder:"Parking instructions, what to bring, arrival time, etc.",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})]})]})]}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center",children:[r.jsx(b.Z,{className:"h-5 w-5 mr-2"}),"About Me"]})}),r.jsx(o.aY,{children:r.jsx("textarea",{name:"about",value:O.bio,onChange:D,disabled:!s,rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${s?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`})})]}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center",children:[r.jsx(p.Z,{className:"h-5 w-5 mr-2"}),"Security"]})}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Password"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Last changed 3 months ago"})]}),r.jsx(d.z,{type:"button",onClick:()=>Z(!C),variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50",children:"Change Password"})]}),C&&(0,r.jsxs)("form",{onSubmit:K,className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:E?"text":"password",value:P,onChange:e=>S(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("button",{type:"button",onClick:()=>R(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:E?r.jsx(f.Z,{className:"h-4 w-4"}):r.jsx(y.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:U?"text":"password",value:z,onChange:e=>A(e.target.value),required:!0,minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("button",{type:"button",onClick:()=>L(!U),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:U?r.jsx(f.Z,{className:"h-4 w-4"}):r.jsx(y.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:q?"text":"password",value:M,onChange:e=>$(e.target.value),required:!0,minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("button",{type:"button",onClick:()=>F(!q),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:q?r.jsx(f.Z,{className:"h-4 w-4"}):r.jsx(y.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx(d.z,{type:"button",onClick:()=>Z(!1),variant:"outline",children:"Cancel"}),r.jsx(d.z,{type:"submit",disabled:N,className:"bg-blue-600 hover:bg-blue-700",children:N?"Changing...":"Change Password"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),r.jsx(d.z,{type:"button",onClick:()=>B("two_factor_auth",!O.two_factor_auth),variant:O.two_factor_auth?"default":"outline",className:O.two_factor_auth?"bg-green-600 hover:bg-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:O.two_factor_auth?"Enabled":"Enable"})]})]})]}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"flex items-center",children:[r.jsx(j.Z,{className:"h-5 w-5 mr-2"}),"Account Information"]})}),r.jsx(o.aY,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Account Status"}),(0,r.jsxs)("p",{className:"font-semibold text-green-600 flex items-center mt-1",children:[r.jsx(v.Z,{className:"h-4 w-4 mr-1"}),O.account_status]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Member Since"}),r.jsx("p",{className:"font-semibold text-gray-900 mt-1",children:O.member_since})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Verification Status"}),(0,r.jsxs)("p",{className:"font-semibold text-green-600 flex items-center mt-1",children:[r.jsx(m.Z,{className:"h-4 w-4 mr-1"}),O.verification_status]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"}),(0,r.jsxs)("p",{className:"font-semibold text-blue-900 mt-1",children:["RM",O.total_earnings.toLocaleString()]})]})]})})]}),s&&(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[r.jsx(d.z,{type:"button",onClick:()=>a(!1),variant:"outline",className:"px-6",children:"Cancel"}),r.jsx(d.z,{type:"submit",disabled:N,className:"px-6 bg-blue-600 hover:bg-blue-700",children:N?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})})})}},47208:(e,s,a)=>{"use strict";a.d(s,{Z:()=>u});var r=a(10326),t=a(17577),l=a(2777),n=a(3594),i=a(91664),o=a(51896),d=a(63685),c=a(94019);function u({currentAvatar:e,userId:s,name:a,onAvatarChange:u,size:m="md",className:g="",showUploadButton:x=!0,editable:h=!0}){let[b,p]=(0,t.useState)(!1),[f,y]=(0,t.useState)(e||null),j=(0,t.useRef)(null),v=async a=>{if(!a.target.files||!a.target.files[0])return;let r=a.target.files[0];if(!r.type.startsWith("image/")){alert("Please select an image file");return}if(r.size>5242880){alert("Image size must be less than 5MB");return}try{p(!0);let e=new FileReader;e.onload=e=>{let a=e.target?.result;if(y(a),!s||"temp"===s||s.startsWith("temp-")){u(a),p(!1);return}N(r,a)},e.readAsDataURL(r)}catch(s){console.error("Error processing avatar:",s),alert("Failed to process image. Please try again."),y(e||null)}finally{p(!1)}},N=async(a,r)=>{if(!s||"temp"===s||s.startsWith("temp-")){r&&u(r);return}try{let{data:t,error:n}=await l.supabase.storage.getBucket("avatars");if(n||!t){console.log("Avatars bucket does not exist, using fallback"),r&&u(r);return}let i=a.name.split(".").pop(),o=`${s}/${Date.now()}.${i}`;console.log("Uploading file:",o,"for user:",s);let{data:d,error:c}=await l.supabase.storage.from("avatars").upload(o,a,{cacheControl:"3600",upsert:!0});if(c){console.error("Upload error:",c),console.log("Falling back to data URL due to upload error:",c.message),r?u(r):(alert(`Failed to upload image: ${c.message}`),y(e||null));return}let{data:{publicUrl:m}}=l.supabase.storage.from("avatars").getPublicUrl(o);console.log("Upload successful, public URL:",m),u(m)}catch(s){console.error("Error uploading avatar:",s),console.log("Falling back to data URL due to general error:",s.message),r?u(r):(alert("Failed to upload image. Using local preview instead."),y(e||null))}};return(0,r.jsxs)("div",{className:`flex flex-col items-center ${g}`,children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)(n.qE,{className:`${(()=>{switch(m){case"sm":return"h-8 w-8";case"md":default:return"h-12 w-12";case"lg":return"h-16 w-16";case"xl":return"h-24 w-24"}})()} border-4 border-white shadow-lg transition-all duration-300 group-hover:shadow-xl`,children:[r.jsx(n.F$,{src:f||void 0,alt:`${a||"User"}'s profile`,className:"object-cover"}),r.jsx(n.Q5,{className:`bg-gradient-to-br ${(()=>{let e=["from-blue-400 to-purple-600","from-green-400 to-emerald-600","from-purple-400 to-pink-600","from-orange-400 to-red-600","from-teal-400 to-cyan-600"],s=(a&&"string"==typeof a?a:"User").split("").reduce((e,s)=>e+s.charCodeAt(0),0)%e.length;return e[s]})()} text-white font-semibold`,children:a&&"string"==typeof a&&""!==a.trim()?a.trim().split(" ").map(e=>e.charAt(0).toUpperCase()).join("").slice(0,2):"U"})]}),h&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 cursor-pointer",onClick:()=>j.current?.click(),children:r.jsx(o.Z,{className:"h-6 w-6 text-white"})}),b&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]}),r.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:v,className:"hidden",disabled:!h||b}),x&&h&&(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>j.current?.click(),disabled:b,className:"text-xs",children:[r.jsx(d.Z,{className:"h-3 w-3 mr-1"}),f?"Change":"Upload"]}),f&&(0,r.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>{y(null),u(null),j.current&&(j.current.value="")},disabled:b,className:"text-xs text-red-600 hover:text-red-700",children:[r.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Remove"]})]}),b&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Uploading..."})]})}},91664:(e,s,a)=>{"use strict";a.d(s,{z:()=>d});var r=a(10326),t=a(17577),l=a(86438),n=a(79360),i=a(51223);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef(({className:e,variant:s,size:a,asChild:t=!1,...n},d)=>{let c=t?l.g7:"button";return r.jsx(c,{className:(0,i.cn)(o({variant:s,size:a,className:e})),ref:d,...n})});d.displayName="Button"},29752:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>i,Zb:()=>n,aY:()=>d,ll:()=>o});var r=a(10326),t=a(17577),l=a(51223);let n=t.forwardRef(({className:e,...s},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let i=t.forwardRef(({className:e,...s},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let o=t.forwardRef(({className:e,...s},a)=>r.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle",t.forwardRef(({className:e,...s},a)=>r.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let d=t.forwardRef(({className:e,...s},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",t.forwardRef(({className:e,...s},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},36498:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/goodbadgcg/eduhome.my/src/app/dashboard/tutor/profile/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[3383,9404,8169,5497,9423,3274],()=>a(15367));module.exports=r})();