(()=>{var e={};e.id=8e3,e.ids=[8e3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4892:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>g,tree:()=>c}),s(91269),s(64686),s(35866);var r=s(23191),a=s(88716),n=s(37922),i=s.n(n),d=s(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let c=["",{children:["dashboard",{children:["parent",{children:["assignments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,91269)),"/Users/goodbadgcg/eduhome.my/src/app/dashboard/parent/assignments/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,64686)),"/Users/goodbadgcg/eduhome.my/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/goodbadgcg/eduhome.my/src/app/dashboard/parent/assignments/page.tsx"],m="/dashboard/parent/assignments/page",u={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/parent/assignments/page",pathname:"/dashboard/parent/assignments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},98174:(e,t,s)=>{Promise.resolve().then(s.bind(s,52559))},6343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},26754:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},941:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},39183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},71821:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},31540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},36283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},54014:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},16968:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},29798:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},40617:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},88378:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},79635:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},52559:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(10326),a=s(17577),n=s(18799),i=s(3274);s(47092);var d=s(2777);class l{async getTutorAssignments(e){try{let{data:t,error:s}=await d.supabase.from("assignments").select(`
          *,
          student:students(
            id,
            full_name,
            parent_id,
            users!students_parent_id_fkey(full_name)
          )
        `).eq("tutor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t.map(e=>({...e,student_name:e.student?.full_name||"Unknown Student",parent_name:e.student?.users?.full_name||"Unknown Parent"}))}catch(e){return console.error("Error fetching tutor assignments:",e),[]}}async createAssignment(e){try{let{data:t,error:s}=await d.supabase.from("assignments").insert([{...e,status:"assigned",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(s)throw s;return await this.notifyParentAssignment(t),t}catch(e){return console.error("Error creating assignment:",e),null}}async updateAssignmentStatus(e,t,s,r){try{let a={status:t,updated_at:new Date().toISOString()};void 0!==s&&(a.score=s),r&&(a.feedback=r);let{error:n}=await d.supabase.from("assignments").update(a).eq("id",e);if(n)throw n;return!0}catch(e){return console.error("Error updating assignment:",e),!1}}async getAssignmentSubmissions(e){try{let{data:t,error:s}=await d.supabase.from("assignment_submissions").select("*").eq("assignment_id",e).order("submitted_at",{ascending:!1});if(s)throw s;return t}catch(e){return console.error("Error fetching submissions:",e),[]}}async submitAssignment(e,t,s,r){try{let{data:a,error:n}=await d.supabase.from("assignment_submissions").insert([{assignment_id:e,student_id:t,content:s,attachments:r||[],submitted_at:new Date().toISOString(),status:"submitted"}]).select().single();if(n)throw n;return await this.updateAssignmentStatus(e,"submitted"),a}catch(e){return console.error("Error submitting assignment:",e),null}}async gradeSubmission(e,t,s,r){try{let{error:a}=await d.supabase.from("assignment_submissions").update({score:t,feedback:s,status:"graded",graded_at:new Date().toISOString(),graded_by:r}).eq("id",e);if(a)throw a;let{data:n}=await d.supabase.from("assignment_submissions").select("assignment_id").eq("id",e).single();return n&&await this.updateAssignmentStatus(n.assignment_id,"reviewed",t,s),!0}catch(e){return console.error("Error grading submission:",e),!1}}async getAssignmentTemplates(e){try{let{data:t,error:s}=await d.supabase.from("assignment_templates").select("*").eq("tutor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t}catch(e){return console.error("Error fetching templates:",e),[]}}async createAssignmentTemplate(e){try{let{data:t,error:s}=await d.supabase.from("assignment_templates").insert([{...e,tags:e.tags||[],is_public:e.is_public||!1,usage_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(s)throw s;return t}catch(e){return console.error("Error creating template:",e),null}}async createAssignmentFromTemplate(e,t,s,r){try{let{data:a,error:n}=await d.supabase.from("assignment_templates").select("*").eq("id",e).single();if(n||!a)throw n;let i=await this.createAssignment({tutor_id:r,student_id:t,title:a.title,description:a.description,subject:a.subject,due_date:s,max_score:a.default_max_score});return i&&await d.supabase.from("assignment_templates").update({usage_count:a.usage_count+1}).eq("id",e),i}catch(e){return console.error("Error creating assignment from template:",e),null}}async getAssignmentsByStatus(e,t){try{return(await this.getTutorAssignments(e)).filter(e=>e.status===t)}catch(e){return console.error("Error fetching assignments by status:",e),[]}}async getOverdueAssignments(e){try{let{data:t,error:s}=await d.supabase.from("assignments").select(`
          *,
          student:students(full_name, users!students_parent_id_fkey(full_name))
        `).eq("tutor_id",e).lt("due_date",new Date().toISOString()).in("status",["assigned","in_progress"]).order("due_date",{ascending:!0});if(s)throw s;return t.map(e=>({...e,student_name:e.student?.full_name||"Unknown Student",parent_name:e.student?.users?.full_name||"Unknown Parent"}))}catch(e){return console.error("Error fetching overdue assignments:",e),[]}}async deleteAssignment(e){try{let{error:t}=await d.supabase.from("assignments").delete().eq("id",e);if(t)throw t;return!0}catch(e){return console.error("Error deleting assignment:",e),!1}}async getParentAssignments(e){try{let{data:t,error:s}=await d.supabase.from("students").select("id, full_name").eq("parent_id",e);if(s)throw s;if(0===t.length)return[];let r=t.map(e=>e.id),{data:a,error:n}=await d.supabase.from("assignments").select(`
          *,
          tutor:tutors(
            id,
            full_name
          )
        `).in("student_id",r).order("created_at",{ascending:!1});if(n)throw n;return a.map(e=>{let s=t.find(t=>t.id===e.student_id);return{...e,student_name:s?.full_name||"Unknown Student",parent_name:"Current Parent"}})}catch(e){return console.error("Error fetching parent assignments:",e),[]}}async getChildAssignments(e){try{let{data:t,error:s}=await d.supabase.from("assignments").select(`
          *,
          tutor:tutors(
            id,
            full_name
          ),
          student:students(
            id,
            full_name
          )
        `).eq("student_id",e).order("created_at",{ascending:!1});if(s)throw s;return t.map(e=>({...e,student_name:e.student?.full_name||"Unknown Student"}))}catch(e){return console.error("Error fetching child assignments:",e),[]}}async getAssignmentStats(e){try{let t=await this.getTutorAssignments(e),s=await this.getOverdueAssignments(e);return{total:t.length,draft:t.filter(e=>"draft"===e.status).length,assigned:t.filter(e=>"assigned"===e.status).length,in_progress:t.filter(e=>"in_progress"===e.status).length,submitted:t.filter(e=>"submitted"===e.status).length,reviewed:t.filter(e=>"reviewed"===e.status).length,completed:t.filter(e=>"completed"===e.status).length,overdue:s.length}}catch(e){return console.error("Error getting assignment stats:",e),{total:0,draft:0,assigned:0,in_progress:0,submitted:0,reviewed:0,completed:0,overdue:0}}}async getParentAssignmentStats(e){try{let t=await this.getParentAssignments(e),s=new Date,r=t.filter(e=>new Date(e.due_date)<s&&["assigned","in_progress"].includes(e.status)),a=t.filter(e=>"reviewed"===e.status&&null!==e.score),n=a.length>0?a.reduce((e,t)=>e+(t.score||0),0)/a.length:0;return{total:t.length,pending:t.filter(e=>"assigned"===e.status).length,in_progress:t.filter(e=>"in_progress"===e.status).length,submitted:t.filter(e=>"submitted"===e.status).length,completed:t.filter(e=>"reviewed"===e.status).length,overdue:r.length,average_score:Math.round(n)}}catch(e){return console.error("Error getting parent assignment stats:",e),{total:0,pending:0,in_progress:0,submitted:0,completed:0,overdue:0,average_score:0}}}async notifyParentAssignment(e){try{console.log("Assignment notification sent to parent:",e.id)}catch(e){console.error("Error sending assignment notification:",e)}}}let c=new l,o=(0,s(62881).Z)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=s(48998),u=s(36283),g=s(30361),h=s(50949),x=s(79635),p=s(37358),b=s(12714),y=s(31540);function f(){let{user:e}=(0,n.$)(),[t,s]=(0,a.useState)(!0),[d,l]=(0,a.useState)([]),[f,w]=(0,a.useState)(null),[v,j]=(0,a.useState)([]),[_,N]=(0,a.useState)({total:0,pending:0,in_progress:0,submitted:0,completed:0,overdue:0,average_score:0}),[k,Z]=(0,a.useState)("all"),A=async e=>{try{let t=await c.getChildAssignments(e);j(t)}catch(e){console.error("Error loading child assignments:",e)}},S=e=>{w(e),A(e.id)},M=e=>{switch(e){case"assigned":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-purple-100 text-purple-800";case"reviewed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},D=e=>{switch(e){case"assigned":default:return r.jsx(o,{className:"h-4 w-4"});case"in_progress":return r.jsx(m.Z,{className:"h-4 w-4"});case"submitted":return r.jsx(u.Z,{className:"h-4 w-4"});case"reviewed":return r.jsx(g.Z,{className:"h-4 w-4"})}},P=e=>{switch(e){case"assigned":return"Pending";case"in_progress":return"In Progress";case"submitted":return"Submitted";case"reviewed":return"Graded";default:return e}},q=(e,t)=>new Date(e)<new Date&&["assigned","in_progress"].includes(t),E=v.filter(e=>{let t=q(e.due_date,e.status);switch(k){case"pending":return["assigned","in_progress"].includes(e.status);case"overdue":return t;case"completed":return"reviewed"===e.status;default:return!0}});return t?r.jsx(i.Z,{userRole:"parent",children:r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):r.jsx(i.Z,{userRole:"parent",children:(0,r.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Assignments"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and track your children's assignment progress"})]}),0===d.length?(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDA"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Children to Monitor"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add children to start tracking their assignments"}),r.jsx("button",{onClick:()=>window.location.href="/dashboard/parent/children",className:"bg-blue-500 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-600 transition-colors",children:"Add Children"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-200",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Total"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:_.total})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-200",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Pending"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:_.pending})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-200",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"In Progress"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:_.in_progress})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-200",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Submitted"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:_.submitted})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-200",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Completed"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:_.completed})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-200",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Avg Score"}),(0,r.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-indigo-600",children:[_.average_score,"%"]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex flex-wrap gap-3",children:d.map(e=>r.jsx("button",{onClick:()=>S(e),className:`px-4 py-3 rounded-xl font-medium transition-all touch-manipulation ${f?.id===e.id?"bg-blue-500 text-white shadow-lg transform scale-105":"bg-white border-2 border-gray-200 text-gray-700 hover:border-blue-300 hover:shadow-md"}`,children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-xl mr-2",children:"\uD83D\uDC64"}),e.name]})},e.id))})}),f&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto",children:[(0,r.jsxs)("button",{onClick:()=>Z("all"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap touch-manipulation ${"all"===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All (",v.length,")"]}),(0,r.jsxs)("button",{onClick:()=>Z("pending"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap touch-manipulation ${"pending"===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Pending (",v.filter(e=>["assigned","in_progress"].includes(e.status)).length,")"]}),(0,r.jsxs)("button",{onClick:()=>Z("overdue"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap touch-manipulation ${"overdue"===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Overdue (",v.filter(e=>q(e.due_date,e.status)).length,")"]}),(0,r.jsxs)("button",{onClick:()=>Z("completed"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap touch-manipulation ${"completed"===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Completed (",v.filter(e=>"reviewed"===e.status).length,")"]})]})})}),0===E.length?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[r.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCDD"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"all"===k?"No Assignments Yet":"overdue"===k?"No Overdue Assignments":"completed"===k?"No Completed Assignments":"No Pending Assignments"}),r.jsx("p",{className:"text-gray-600",children:"all"===k?`${f.name} hasn't received any assignments yet.`:"overdue"===k?"Great! No assignments are overdue.":"completed"===k?"No assignments have been graded yet.":"All assignments are up to date!"})]}):r.jsx("div",{className:"space-y-4",children:E.map(e=>{let t=q(e.due_date,e.status);return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border-l-4 border-blue-500",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[D(e.status),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.title}),t&&(0,r.jsxs)("span",{className:"flex items-center text-red-600 text-sm",children:[r.jsx(h.Z,{className:"h-4 w-4 mr-1"}),"Overdue"]})]}),r.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(x.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 text-xs",children:"Tutor"}),r.jsx("p",{className:"font-medium text-gray-900",children:e.tutor?.full_name||"Unknown"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 text-xs",children:"Subject"}),r.jsx("p",{className:"font-medium text-gray-900",children:e.subject})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(p.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 text-xs",children:"Due Date"}),r.jsx("p",{className:`font-medium ${t?"text-red-600":"text-gray-900"}`,children:new Date(e.due_date).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(m.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 text-xs",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${M(e.status)}`,children:P(e.status)})]})]})]}),null!==e.score&&r.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm font-medium text-green-800",children:["Score: ",e.score,"/",e.max_score]})}),e.feedback&&(0,r.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Feedback:"}),r.jsx("p",{className:"text-sm text-blue-800",children:e.feedback})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${M(e.status)}`,children:P(e.status)}),null!==e.score&&(0,r.jsxs)("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[e.score,"%"]})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,r.jsxs)("button",{className:"flex items-center px-3 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors touch-manipulation",children:[r.jsx(b.Z,{className:"h-4 w-4 mr-1"}),"View Details"]}),e.materials&&e.materials.length>0&&(0,r.jsxs)("button",{className:"flex items-center px-3 py-2 text-sm bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors touch-manipulation",children:[r.jsx(y.Z,{className:"h-4 w-4 mr-1"}),"Materials (",e.materials.length,")"]})]})]},e.id)})})]})]})]})})}},91269:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/goodbadgcg/eduhome.my/src/app/dashboard/parent/assignments/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3383,9404,8169,9423,3274,7092],()=>s(4892));module.exports=r})();