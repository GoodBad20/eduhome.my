"use strict";exports.id=6645,exports.ids=[6645],exports.modules={6507:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},36728:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},31540:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2634:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},72607:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]])},58038:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},60850:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},98091:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},47208:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(10326),s=a(17577),l=a(2777),o=a(3594),i=a(91664),d=a(51896),n=a(63685),c=a(94019);function u({currentAvatar:e,userId:t,name:a,onAvatarChange:u,size:p="md",className:m="",showUploadButton:h=!0,editable:f=!0}){let[g,y]=(0,s.useState)(!1),[x,v]=(0,s.useState)(e||null),b=(0,s.useRef)(null),k=async a=>{if(!a.target.files||!a.target.files[0])return;let r=a.target.files[0];if(!r.type.startsWith("image/")){alert("Please select an image file");return}if(r.size>5242880){alert("Image size must be less than 5MB");return}try{y(!0);let e=new FileReader;e.onload=e=>{let a=e.target?.result;if(v(a),!t||"temp"===t||t.startsWith("temp-")){u(a),y(!1);return}w(r,a)},e.readAsDataURL(r)}catch(t){console.error("Error processing avatar:",t),alert("Failed to process image. Please try again."),v(e||null)}finally{y(!1)}},w=async(a,r)=>{if(!t||"temp"===t||t.startsWith("temp-")){r&&u(r);return}try{let{data:s,error:o}=await l.supabase.storage.getBucket("avatars");if(o||!s){console.log("Avatars bucket does not exist, using fallback"),r&&u(r);return}let i=a.name.split(".").pop(),d=`${t}/${Date.now()}.${i}`;console.log("Uploading file:",d,"for user:",t);let{data:n,error:c}=await l.supabase.storage.from("avatars").upload(d,a,{cacheControl:"3600",upsert:!0});if(c){console.error("Upload error:",c),console.log("Falling back to data URL due to upload error:",c.message),r?u(r):(alert(`Failed to upload image: ${c.message}`),v(e||null));return}let{data:{publicUrl:p}}=l.supabase.storage.from("avatars").getPublicUrl(d);console.log("Upload successful, public URL:",p),u(p)}catch(t){console.error("Error uploading avatar:",t),console.log("Falling back to data URL due to general error:",t.message),r?u(r):(alert("Failed to upload image. Using local preview instead."),v(e||null))}};return(0,r.jsxs)("div",{className:`flex flex-col items-center ${m}`,children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)(o.qE,{className:`${(()=>{switch(p){case"sm":return"h-8 w-8";case"md":default:return"h-12 w-12";case"lg":return"h-16 w-16";case"xl":return"h-24 w-24"}})()} border-4 border-white shadow-lg transition-all duration-300 group-hover:shadow-xl`,children:[r.jsx(o.F$,{src:x||void 0,alt:`${a||"User"}'s profile`,className:"object-cover"}),r.jsx(o.Q5,{className:`bg-gradient-to-br ${(()=>{let e=["from-blue-400 to-purple-600","from-green-400 to-emerald-600","from-purple-400 to-pink-600","from-orange-400 to-red-600","from-teal-400 to-cyan-600"],t=(a&&"string"==typeof a?a:"User").split("").reduce((e,t)=>e+t.charCodeAt(0),0)%e.length;return e[t]})()} text-white font-semibold`,children:a&&"string"==typeof a&&""!==a.trim()?a.trim().split(" ").map(e=>e.charAt(0).toUpperCase()).join("").slice(0,2):"U"})]}),f&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 cursor-pointer",onClick:()=>b.current?.click(),children:r.jsx(d.Z,{className:"h-6 w-6 text-white"})}),g&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]}),r.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:k,className:"hidden",disabled:!f||g}),h&&f&&(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>b.current?.click(),disabled:g,className:"text-xs",children:[r.jsx(n.Z,{className:"h-3 w-3 mr-1"}),x?"Change":"Upload"]}),x&&(0,r.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>{v(null),u(null),b.current&&(b.current.value="")},disabled:g,className:"text-xs text-red-600 hover:text-red-700",children:[r.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Remove"]})]}),g&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Uploading..."})]})}},91664:(e,t,a)=>{a.d(t,{z:()=>n});var r=a(10326),s=a(17577),l=a(86438),o=a(79360),i=a(51223);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=s.forwardRef(({className:e,variant:t,size:a,asChild:s=!1,...o},n)=>{let c=s?l.g7:"button";return r.jsx(c,{className:(0,i.cn)(d({variant:t,size:a,className:e})),ref:n,...o})});n.displayName="Button"},29752:(e,t,a)=>{a.d(t,{Ol:()=>i,Zb:()=>o,aY:()=>n,ll:()=>d});var r=a(10326),s=a(17577),l=a(51223);let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...t}));n.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"}};